# Создание кластера базы данных в облаке с помощью MongoDB Atlas

В течение многих лет MongoDB стала де факто NoSQL базой данных  для частных лиц и предприятий, создающих крупномасштабные приложения. Она с открытым исходным кодом, легко масштабируется и обеспечивает высокую доступность. Она также поддерживает очень сложные запросы и тщательный контроль параллелизма.

Однако необходимые задачи, такие как установка базы данных, настройка для поддержания оптимальной производительности в течение длительных периодов времени, как правило, требуют много квалифицированных и целеустремленных усилий.

К счастью, есть более простая альтернатива: MongoDB Atlas — полностью управляемая облачная версия базы данных.

С MongoDB Atlas вы можете создать кластер MongoDB для любого основного поставщика облачных вычислений по вашему выбору и начать использовать этот кластер за считанные минуты. Используя пользовательский интерфейс на основе браузера Atlas, вы также можете интуитивно настроить кластер и контролировать его производительность.

## 1. Создание кластера
Чтобы иметь возможность использовать облачные сервисы MongoDB, вам понадобится учетная запись MongoDB Atlas. Чтобы создать ее, перейдите на [домашнюю страницу](https://www.mongodb.com/cloud/atlas?jmp=tuts&Americas_USA_tuts_stitch_tutorials_ATLAS "домашнюю страницу") и нажмите кнопку Get started free.

[![](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.09.18.jpg)](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.09.18.jpg)

После того, как вы заполните короткую регистрационную форму, вы будете перенаправлены на мастер создания кластера. В первом разделе вам нужно будет выбрать облачный провайдер и регион, который вы предпочитаете.

Чтобы свести к минимуму задержку сети, выберете регион, ближайший к вашему компьютеру. Пока же, поскольку мы создаем кластер пользования бесплатного уровня, убедитесь, что выбранный вами регион является тем, у которого есть свободный уровень. Кроме того, если вы используете виртуальную виртуальную машину Google или инстанс Amazon EC2 в качестве среды разработки, сначала выберите соответствующий облачный провайдер.

[![](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.15.05.png)](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.15.05.png)

В разделе Cluster Tier выберите параметр M0, чтобы создать кластер бесплатного уровня. Он предлагает 512 МБ пространства для хранения, последнюю версию MongoDB с WiredTiger в качестве механизма хранения, набор реплик из трех узлов и щедрую пропускную способность 10 ГБ в неделю.

[![](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.15.53.png)](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.15.53.png)

Наконец, дайте значимое имя кластеру и нажмите кнопку Create Cluster.

[![](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.19.06.png)](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.19.06.png)

Теперь, MongoDB Atlas займет около пяти минут, чтобы настроить ваш кластер.

## 2. Настройка кластера
Прежде чем вы начнете использовать кластер, вам нужно будет предоставить несколько сведений, связанных с безопасностью, поэтому перейдите на вкладку Security.

Во-первых, в разделе MongoDB Users вы должны создать нового пользователя, нажав кнопку Add new user. В появившемся диалоговом окне введите нужное имя пользователя и пароль, выберите Read and write to any database и нажмите кнопку Add User.

[![](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.28.16.png)](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.28.16.png)

Затем в разделе IP Whitelist вы должны указать список IP-адресов, с которых вы будете обращаться к кластеру. На данный момент достаточно указать текущий IP-адрес вашего компьютера.

Нажмите кнопку Add IP address, чтобы создать новую запись IP-адреса. В появившемся диалоговом окне нажмите кнопку Add current IP , чтобы заполнить поле Whitelist Entry. Кроме того, если у вас нет статического IP-адреса, рекомендуется отметить его временную запись, указав параметр Save as temporary whitelist. Наконец, нажмите Confirm, чтобы добавить запись.

[![](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.31.27.png)](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.31.27.png)

## 3. Получение строки подключения
Для подключения к кластеру из приложения вам понадобится действительная строка подключения. Чтобы получить его, перейдите на вкладку Overview и нажмите кнопку Connect.

В открывшемся диалоговом окне выберите параметр Connect Your Application и нажмите кнопку I'm using driver 3.6 or later. Теперь вы можете увидеть строку подключения. У него не будет вашего фактического пароля, поэтому вам придется его вводить вручную. После этого сделайте заметку о строке, чтобы позже ее использовать.

[![](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.44.08.png)](https://cms-assets.tutsplus.com/uploads/users/362/posts/31840/image/Screen%20Shot%202018-09-09%20at%2008.44.08.png)